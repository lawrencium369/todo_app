{% extends "base.html" %}
{% block content %}
<div class="container">
    <h1>My To-Do List</h1>
    <ol class="todo-list">
        {% for task in tasks %}
            <li>
                <div class="task-title">{{ task.title }}</div>
                <div class="task-desc">{{ task.description }}</div>
                {% if not task.completed %}
                    <form method="post" action="{% url 'mark_completed' task.id %}" style="display:inline;">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-success btn-sm">Mark as Completed</button>
                    </form>
                {% endif %}
                {% if task.completed %}
                    <span class="badge bg-success">Completed</span>
                {% endif %}
            </li>
        {% empty %}
            <li>No tasks added yet.</li>
        {% endfor %}
    </ol>
</div>
{% endblock %}